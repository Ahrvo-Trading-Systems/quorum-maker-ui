<p-growl [value]="msgs"></p-growl>
<div class="dashboard">
  <div class="row">
    <div class="col-md-12">
      <div class="rect-block" [ngClass]="(isSelected == 'blockClass')?'active':''" (click)="isShowCont('getBlocks')">
        <div class="rect-block-inner">
          <h5>Current Block Number</h5>
          <h3>{{getNodeInfoList?.blockNumber}}</h3>
          <p>
            <strong>Last Block :</strong>
            <span>07 Sec ago</span>
          </p>
        </div>
      </div>
      <div class="rect-block" [ngClass]="(isSelected == 'nodeClass')?'active':''" (click)="isShowCont('nodeManager')">
        <div class="rect-block-inner">
          <h5 class="active-node">Active Nodes</h5>
          <h3 class="active-node">{{getNodeInfoList?.nodeCount}}</h3>
          <p>
            <strong>Total Network Nodes :</strong>
            <span>{{getNodeInfoList?.nodeCount}}</span>
          </p>
        </div>
      </div>
      <div class="pending-transaction">
        <div class="inner">
          <h5>Pending Transactions</h5>
          <h3>{{getNodeInfoList?.pendingTxCount}}</h3>
        </div>
      </div>
      <div class="ip-address">
        <div class="inner">
          <h5>IP ADDRESS</h5>
          <h3>{{getNodeInfoList?.connectionInfo?.ip}}</h3>
          <p>
            <strong>RPC Port :</strong>
            <span>{{getNodeInfoList?.connectionInfo?.port}}</span>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="grid-container animated " *ngIf="isNodeData" [ngClass]="(isSelected == 'nodeClass')?'fadeIn':''">
  <h2>Node Table</h2>
  <table class="table table-hover">
    <thead>
      <tr>
        <th>
          <img src="/assets/images/checkIn.png">
        </th>
        <th>Node Name</th>
        <th>Role</th>
        <th>Public Key</th>
        <th>IP Address</th>
        <th>Node Latency</th>
        <th>Enode ID</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>
          <img src="/assets/img/checkIn.png">
        </td>
        <td>John</td>
        <td>Doe</td>
        <td>john@example.com</td>
        <td>John</td>
        <td>Doe</td>
        <td>john@example.com</td>
      </tr>
      <tr>
        <td>
          <img src="/assets/img/checkIn.png">
        </td>
        <td>John</td>
        <td>Doe</td>
        <td>john@example.com</td>
        <td>John</td>
        <td>Doe</td>
        <td>john@example.com</td>
      </tr>
      <tr>
        <td>
          <img src="/assets/img/checkIn.png">
        </td>
        <td>John</td>
        <td>Doe</td>
        <td>john@example.com</td>
        <td>John</td>
        <td>Doe</td>
        <td>john@example.com</td>
      </tr>
    </tbody>
  </table>
</div>

<div class="block-wrapper animated " *ngIf="isBlocks" [ngClass]="(isSelected == 'blockClass')?'fadeIn':''">
  <div class="row">
    <div class="col-md-6">
      <div class="block-inner">
        <h3>
          <em>
            <img src="/assets/images/blockIcons.png" />
          </em>
          <span>Blocks</span>
        </h3>
        <div class="block-inner-list-wrapper">
          <div class="loader-bg" *ngIf="!getBlockList"></div>
          <div class="block-inner-scroll-space">
            <p-accordion>
              <p-accordionTab class="block-list" *ngFor="let getBlocks of getBlockList">
                <p-header class="block-header" (click)="ExpandBlockDetails(getBlocks?.number);blockFilter(getBlocks?.hash);">
                  <h4>
                    <div class="row">
                      <div class="block-title col-md-8">{{getBlocks?.number}}</div>
                      <div class="block-time col-md-4">23 sec ago</div>
                    </div>
                    <div class="row">
                      <div class="hash-title col-md-2">Hash</div>
                      <div class="hash-detail col-md-10">{{getBlocks?.hash}}</div>
                    </div>
                  </h4>
                </p-header>
                <app-hash-block [BlockDetails]="BlockDetails" [getBlocks]="getBlocks"></app-hash-block>
              </p-accordionTab>
            </p-accordion>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="block-inner">
        <h3>
          <em>
            <img src="/assets/images/transcationIcons.png" />
          </em>
          <span>Transactions</span>
        </h3>
        <div class="block-inner-list-wrapper">
          <div class="loader-bg" *ngIf="!getBlockList"></div>
          <div class="block-inner-scroll-space">
            <p-accordion>
              <p-accordionTab class="block-list" *ngFor="let getBlocks of getBlockList" [ngClass]="{'selected': getBlocks?.hash == selectedBlock}">
                <p-header class="block-header" (click)="ExpandTxNDetails(getBlocks?.transactions[0].hash);">
                  <h4>
                    <div class="row margin-bottom-0">
                      <div class="hash-title col-md-2">TXNdd</div>
                      <div class="hash-detail col-md-10">{{getBlocks?.transactions[0]?.hash}}</div>
                    </div>
                    <div class="row txn-wrapper">
                      <div class="col-md-9">
                        <div class="col-md-2">From</div>
                        <div class="col-md-4">{{getBlocks?.transactions[0]?.from}}</div>
                        <div class="col-md-2">To</div>
                        <div class="col-md-4">{{getBlocks?.transactions[0]?.to}}</div>
                      </div>
                      <div class="col-md-3 block-time">
                        23 sec ago
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-12 public">
                        {{getBlocks?.transactions[0]?.transactionType}}
                      </div>
                    </div>
                  </h4>
                </p-header>
                <app-transcation-block [TxNDetails]="TxNDetails" [getBlocks]="getBlocks"></app-transcation-block>
              </p-accordionTab>
            </p-accordion>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
